<!DOCTYPE html>
<!-- Students: Please use this week's project for Week 9: Midterm Project: Map-Based Mobile App. 
     You will need to replace the contents of this HTML file with your own work, 
     and create any other files, if any, required for the assignment.
     When you are done, be certain to submit the assignment in both Repl.it and Canvas to be graded. -->
<html>
  <head>
    <meta charset="utf-8">

    <meta name="viewport" content="width=device-width">

    <title>CS50C Week09</title>
    
    <!-- load the jQuery JavaScript library -->
 
   <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>

    <style>
      //give map some width height to be viewed
      #mapping{
        width: 100%;
        height: 650px;
      }
    </style>
  </head>
  <body>

    <!--where the map will be drawn in -->
    <div id="mapping"></div>

<script>
  
  
  
  
  console.log('yo');

  function initMap() {
//write jquery to load external JSON data
console.log('hi');

 $.getJSON( "map.json",

 function(jsonData){
   
 // the code in this function is run by jQuery after JSON loads
 // now perform the steps in javascript to create the map                  
 // step 1. define the geocoord (lat,long) for the center

      let geocoords = {
        lat:38.46015 ,
        lng: -122.7357611
      };
//step #2 create google Map Object 

            let map1 = new google.maps.Map(
// tell gmaps to put map inside my id 

                document.getElementById('mapping'),
                  {
//give center in lat lng 

                    center:geocoords,
//set mzoom

                      zoom: 3

                  }
);
console.log('blah');
//add in js for loop to not exeed marker plots
for( var i=0; i<jsonData.length; i++){

  //inside curlies, make a block of code associated with for loop
  //step #3 creat marker that will be placed on map
  
  let geocoords1 ={
    lat:jsonData[i].lat,
    lng:jsonData[i].lng ,
  };

  google.maps.Marker(
    {
      //#1 the position of the marker geocoord
      position:geocoords1,
      //#2 which google map js var to place marker inside of 
      map:map1,
      //#3 title to show when user hovers at marker
      title: jsonData[i].title
              }
            );
          }

    }
 );
}; 

</script>

<script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyB3zL4VqA3SuokO4jzuo9FnXekbJKiPAEk&callback=initMap">
        </script>

    <script src="script.js"></script>
    
  </body>
</html>